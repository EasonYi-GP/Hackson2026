<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠæ¯è¯—ç¤¾</title>
    <!-- FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Serif+SC:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
             theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Noto Serif SC', 'serif'],
                        display: ['Playfair Display', 'serif'],
                    },
                    colors: {
                        slate: { 850: '#151e32' }
                    }
                }
            }
        }
    </script>
    
    <style>
        /* å…¨å±€éšè—æ‰€æœ‰æ»šåŠ¨æ¡ */
        * {
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        *::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
            width: 0;
            height: 0;
        }

        body { font-family: 'Inter', sans-serif; }
        .serif-font { font-family: 'Noto Serif SC', serif; }

        .hide-scroll::-webkit-scrollbar { width: 6px; }
        .hide-scroll::-webkit-scrollbar-track { background: rgba(51, 65, 85, 0.3); border-radius: 3px; }
        .hide-scroll::-webkit-scrollbar-thumb { background: #475569; border-radius: 3px; }
        .hide-scroll::-webkit-scrollbar-thumb:hover { background: #64748b; }

        /* Modal Animations */
        @keyframes modalFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes modalSlideUp {
            from { opacity: 0; transform: translateY(30px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        @keyframes personCardIn {
            from { opacity: 0; transform: translateX(-10px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .modal-backdrop-animate {
            animation: modalFadeIn 0.25s ease-out forwards;
        }
        .modal-content-animate {
            animation: modalSlideUp 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }
        .person-card {
            animation: personCardIn 0.3s ease-out forwards;
            opacity: 0;
        }
        .tribe-tab {
            transition: all 0.2s ease;
        }
        .tribe-tab:active {
            transform: scale(0.95);
        }
        /* æ·±æ¸ŠèƒŒæ™¯ */
        .abyssal-bg {
            background-color: #020617;
            background-image:
                radial-gradient(circle at 15% 50%, rgba(30, 27, 75, 0.4) 0%, transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(15, 23, 42, 0.6) 0%, transparent 25%);
            min-height: 100vh;
        }

        /* ç»ç’ƒé¢æ¿ */
        .glass-panel {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.03);
            border-radius: 20px;
        }

        /* Dynamic Background */
        .mystic-bg {
            background-color: #020617;
            background-image: 
                radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
                radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
                radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
            position: absolute; inset: 0; z-index: -1;
        }

        .serif-font { font-family: 'Noto Serif SC', serif; }
        /* Glassmorphism Panel */
        .glass-panel {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.5);
        }

        /* Animations */
        .liquid-ball {
            position: relative; width: 140px; height: 140px;
            background: #1e293b; border-radius: 50%; overflow: hidden;
            box-shadow: inset 0 0 30px rgba(0,0,0,0.8);
            border: 2px solid rgba(167, 139, 250, 0.3); margin: 0 auto;
        }
        .liquid-wave {
            position: absolute; top: 40%; left: -50%; width: 200%; height: 200%;
            background: linear-gradient(transparent, rgba(139, 92, 246, 0.6));
            border-radius: 40%; animation: wave 6s linear infinite; opacity: 0.8;
        }
        .liquid-wave:nth-child(2) { top: 42%; animation: wave 8s linear infinite reverse; opacity: 0.4; background: linear-gradient(transparent, rgba(192, 132, 252, 0.6)); }
        @keyframes wave { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .radar-box {
            position: relative; width: 100%; height: 100%; border-radius: 50%;
            border: 1px dashed rgba(255, 255, 255, 0.1);
            background: radial-gradient(circle, rgba(16, 185, 129, 0.05) 0%, transparent 70%);
        }
        .scan-line {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: conic-gradient(from 0deg, transparent 75%, rgba(16, 185, 129, 0.5));
            border-radius: 50%; animation: scan 3s infinite linear;
        }
        .radar-blip {
            position: absolute; width: 6px; height: 6px; background: #34d399;
            border-radius: 50%; box-shadow: 0 0 8px #34d399; opacity: 0;
            animation: blip 2s infinite;
        }
        @keyframes scan { 100% { transform: rotate(360deg); } }
        @keyframes blip { 0%,100% {opacity:0;} 50% {opacity:1;} }
        
        .progress-bar-fill { height: 100%; border-radius: 999px; width: 0%; animation: fillProgress 1.5s ease-out forwards; }
        @keyframes fillProgress { to { width: var(--w); } }
    </style>
</head>
<body class="text-slate-200 min-h-screen relative font-sans overflow-x-hidden">

    <div class="mystic-bg"></div>

    <div class="relative z-10 flex flex-col md:flex-row min-h-screen p-2 md:p-4 gap-4 max-w-7xl mx-auto">
        <!-- å·¦ä¾§å¯¼èˆªæ  -->
        <aside class="glass-panel w-full lg:w-64 flex flex-col p-6 shadow-2xl shrink-0 lg:h-[calc(100vh-2rem)] lg:sticky lg:top-4">
            <div class="mb-8 flex lg:block items-center justify-between">
                <div>
                    <p class="text-[10px] text-amber-700/80 tracking-[0.3em] font-bold">EST. 2026</p>
                    <h1 class="text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-br from-amber-100 to-amber-600 serif-font mt-1">
                        åŠæ¯è¯—ç¤¾
                    </h1>
                </div>
                <button class="lg:hidden text-slate-400">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
            </div>

            <!-- å¯¼èˆªèœå• -->
            <nav class="hidden lg:flex flex-col gap-2 flex-1">
                <a href="1.html" class="flex items-center gap-3 px-4 py-3 text-slate-500 hover:text-slate-300 hover:bg-white/5 rounded-xl transition-all group">
                    <svg class="w-5 h-5 group-hover:text-amber-500/50 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                    </svg>
                    <span>å¤§å… Hall</span>
                </a>
                <a href="2.html" class="flex items-center gap-3 px-4 py-3 text-slate-500 hover:text-slate-300 hover:bg-white/5 rounded-xl transition-all group">
                    <svg class="w-5 h-5 group-hover:text-amber-500/50 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                    </svg>
                    <span>æ–°äººå‘å¯¼ Guide</span>
                </a>
                <a href="3.html" class="flex items-center gap-3 px-4 py-3 bg-white/5 text-amber-50 rounded-xl border border-white/5 font-medium transition-all group">
                    <svg class="w-5 h-5 text-amber-500/80" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
                    </svg>
                    <span>å¾®é†ºä¼šè¯ Session</span>
                </a>
                <a href="4.html" class="flex items-center gap-3 px-4 py-3 text-slate-500 hover:text-slate-300 hover:bg-white/5 rounded-xl transition-all group">
                    <svg class="w-5 h-5 group-hover:text-amber-500/50 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                    </svg>
                    <span>åœˆå­ Circles</span>
                </a>
                <a href="6.html" class="flex items-center gap-3 px-4 py-3 text-slate-500 hover:text-slate-300 hover:bg-white/5 rounded-xl transition-all group">
                    <svg class="w-5 h-5 group-hover:text-amber-500/50 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                    <span>æˆ‘çš„æ¡£æ¡ˆ Profile</span>
                </a>
            </nav>

            <!-- ç”¨æˆ·ä¿¡æ¯ -->
            <div class="hidden lg:flex mt-auto pt-6 border-t border-white/5 items-center gap-3">
                <div class="w-10 h-10 rounded-full bg-amber-900/30 border border-amber-500/20 flex items-center justify-center text-amber-500 font-bold text-xs ring-4 ring-black">
                    ME
                </div>
                <div>
                    <p class="text-sm text-amber-500/80 font-bold">é…’å®¢ #0608</p>
                    <p class="text-[10px] text-slate-500">å¾®é†ºæ¢é™©å®¶</p>
                </div>
            </div>
        </aside>

        <main class="flex-1 flex flex-col gap-6 w-full min-w-0 pb-4 lg:h-[calc(100vh-2rem)] lg:sticky lg:top-4 overflow-hidden">

            <!-- é¡¶éƒ¨å¼•å¯¼è¯­ -->
            <header class="glass-panel p-6 animate-fade-in-down">
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center gap-3">
                        <h1 class="text-3xl font-bold serif-font text-transparent bg-clip-text bg-gradient-to-r from-slate-100 to-slate-400">æ‚¨çš„å¾®é†ºä¼šè¯ <span class="font-display text-base text-slate-500 italic font-normal">Your Current Session</span></h1>
                        <div class="flex items-center gap-2 bg-slate-800/50 border border-slate-700/50 rounded-full px-3 py-1">
                            <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                            <span class="text-xs text-slate-300 font-medium tracking-wide">LIVE</span>
                        </div>
                    </div>
                </div>
                <p class="text-slate-300 max-w-3xl text-sm leading-relaxed">å®æ—¶è¿½è¸ªæ‚¨çš„è®¢å•çŠ¶æ€ï¼Œæ¢ç´¢å‘³è•¾åå¥½ï¼Œå‘ç°é™„è¿‘çš„çµé­‚å…±é¸£ã€‚</p>
            </header>

        <!-- CONTENT -->
        <div class="flex-1 min-h-0 grid grid-cols-1 lg:grid-cols-[1fr_320px] grid-rows-2 gap-6 overflow-y-auto">

                <!-- 1. Order Status -->
                <div class="glass-panel p-8 flex flex-col">

                    <!-- Upper: Order Details -->
                    <div class="flex justify-between items-start mb-6">
                        <div class="flex items-start gap-6">
                            <!-- Dynamic Icon (Replaced Emoji) -->
                            <div class="w-16 h-16 rounded-2xl bg-slate-900/60 flex items-center justify-center shrink-0 border border-amber-500/30 shadow-[0_0_15px_rgba(245,158,11,0.1)]">
                                <i class="fa-solid fa-martini-glass-citrus text-3xl text-amber-500 animate-pulse"></i>
                            </div>

                            <!-- Text Info -->
                            <div>
                                <h2 class="text-2xl font-bold text-white mb-2 serif-font flex items-center gap-2">
                                    æ­£åœ¨è°ƒåˆ¶ <span class="text-amber-500 text-xs border border-amber-500/30 px-2 py-0.5 rounded-full bg-amber-500/10 font-sans">MIXING</span>
                                </h2>
                                <p class="font-display text-base text-slate-400 italic mb-3">Mixing in progress...</p>
                                <div class="text-sm text-slate-300 space-y-2" id="orderList">
                                    <p class="flex items-center gap-2"><i class="fa-solid fa-circle text-[6px] text-slate-500"></i> è«å‰æ‰˜ (Mojito) <span class="text-slate-500 text-xs">x 1</span></p>
                                    <p class="flex items-center gap-2"><i class="fa-solid fa-circle text-[6px] text-slate-500"></i> ç‚¸è–¯æ¡ (Fries) <span class="text-slate-500 text-xs">x 1</span></p>
                                </div>
                            </div>
                        </div>

                        <!-- Timer -->
                        <div class="text-right bg-slate-800/30 px-4 py-2 rounded-lg border border-white/5">
                            <p class="text-[10px] text-slate-500 uppercase tracking-widest mb-1">Estimated Wait</p>
                            <p class="text-2xl font-display text-amber-400 font-bold">8 <span class="text-sm font-normal text-slate-500 font-sans">mins</span></p>
                        </div>
                    </div>

                    <!-- Lower: Progress Bar -->
                    <div class="relative pt-2 pb-1">
                        <!-- Track with precise top alignment to match dots -->
                        <div class="absolute top-[14px] left-0 w-full h-0.5 bg-slate-800 -z-10 rounded"></div>
                        <!-- Fill -->
                        <div class="absolute top-[14px] left-0 w-1/2 h-0.5 bg-gradient-to-r from-amber-500/50 to-amber-500 -z-10 rounded layer-1"></div>

                        <div class="flex justify-between items-center text-[10px] uppercase font-bold tracking-wider">
                            <!-- Node 1 -->
                            <div class="flex flex-col items-center gap-3">
                                <div class="w-3 h-3 rounded-full bg-green-500 shadow-[0_0_10px_#22c55e]"></div>
                                <span class="text-green-500">Confirmed</span>
                            </div>
                            <!-- Node 2 (Current) -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="w-5 h-5 rounded-full bg-slate-900 border-2 border-amber-500 flex items-center justify-center shadow-[0_0_10px_#f59e0b]">
                                    <div class="w-2 h-2 bg-amber-500 rounded-full animate-ping"></div>
                                </div>
                                <span class="text-amber-500">Mixing Now</span>
                            </div>
                            <!-- Node 3 -->
                            <div class="flex flex-col items-center gap-3">
                                <div class="w-3 h-3 rounded-full bg-slate-700"></div>
                                <span class="text-slate-400">Serving</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2. Taste DNA (Analysis) -->
                <div class="glass-panel p-8 flex flex-col lg:order-3">
                    <div class="flex justify-between items-center mb-5">
                        <h3 class="text-2xl font-bold serif-font text-white flex items-center gap-3">
                            å‘³è•¾åŸºå› å›¾è°±
                            <span class="font-display text-base text-slate-400 italic font-normal">Taste DNA Matrix</span>
                        </h3>
                        <span class="text-[10px] text-indigo-400 border border-indigo-500/30 px-2.5 py-1 rounded font-medium">ANALYZED</span>
                    </div>

                    <div class="space-y-4 flex-1 flex flex-col justify-center px-1">
                        <!-- Sweetness -->
                        <div class="group">
                            <div class="flex justify-between text-xs mb-1">
                                <span class="text-slate-300">ç”œåº¦ / <span class="text-slate-500">Sweetness</span></span>
                                <span class="font-mono text-pink-400">75%</span>
                            </div>
                            <div class="h-1.5 bg-slate-800 rounded-full overflow-hidden">
                                <div class="progress-bar-fill group-hover:brightness-125 transition-all" style="--w: 75%; background: linear-gradient(90deg, #ec4899, #d946ef);"></div>
                            </div>
                        </div>
                        <!-- Acidity -->
                        <div class="group">
                            <div class="flex justify-between text-xs mb-1">
                                <span class="text-slate-300">é…¸åº¦ / <span class="text-slate-500">Acidity</span></span>
                                <span class="font-mono text-lime-400">60%</span>
                            </div>
                            <div class="h-1.5 bg-slate-800 rounded-full overflow-hidden">
                                <div class="progress-bar-fill group-hover:brightness-125 transition-all" style="--w: 60%; background: linear-gradient(90deg, #84cc16, #a3e635);"></div>
                            </div>
                        </div>
                        <!-- Alcohol -->
                        <div class="group">
                            <div class="flex justify-between text-xs mb-1">
                                <span class="text-slate-300">çƒˆåº¦ / <span class="text-slate-500">Intensity</span></span>
                                <span class="font-mono text-red-400">15%</span>
                            </div>
                            <div class="h-1.5 bg-slate-800 rounded-full overflow-hidden">
                                <div class="progress-bar-fill group-hover:brightness-125 transition-all" style="--w: 15%; background: linear-gradient(90deg, #f87171, #ef4444);"></div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-4 pt-4 border-t border-dashed border-slate-700/50">
                        <div class="flex gap-3 items-start">
                            <span class="text-lg mt-0.5 text-indigo-400"><i class="fa-solid fa-wand-magic-sparkles"></i></span>
                            <div>
                                <p class="text-xs text-indigo-300 font-bold mb-0.5 uppercase tracking-wide">Insight</p>
                                <p class="text-xs text-slate-400 leading-relaxed italic">
                                    "Your choice suggests a preference for clarity and joy. <br>
                                    æ‚¨çš„é€‰æ‹©é€ç€ä¸€ç§è½»æ¾çš„æ„‰æ‚¦æ„Ÿã€‚"
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 3. Resonance (Liquid Orb) -->
                <div class="glass-panel p-8 flex flex-col items-center justify-center relative lg:order-2">
                    <h3 class="text-sm font-bold text-slate-400 mb-3 uppercase tracking-widest text-center">
                        Bar Resonance<br><span class="text-xs text-slate-500">åœºæ‰€å…±é¸£åº¦</span>
                    </h3>

                    <div class="liquid-ball mb-3 group cursor-pointer transition-transform hover:scale-105 duration-500" style="width: 90px; height: 90px;">
                        <div class="liquid-wave"></div>
                        <div class="liquid-wave"></div>
                        <div class="absolute inset-0 flex flex-col items-center justify-center z-10">
                            <span class="block text-2xl font-bold text-white drop-shadow-md font-display">92%</span>
                        </div>
                    </div>

                    <div class="text-center">
                        <p class="text-sm text-purple-300 font-serif mb-1">çµé­‚å¥‘åˆ</p>
                        <p class="text-[10px] text-slate-400 uppercase tracking-wider">Soul Match</p>
                    </div>
                </div>

                <!-- 2. Radar (Visual) -->
                <div class="glass-panel p-8 flex flex-col lg:order-4">
                    <div class="flex justify-between items-center mb-5 px-1">
                        <span class="text-sm text-slate-300 uppercase tracking-widest font-bold">Nearby Vibes</span>
                        <div class="flex items-center gap-2">
                            <span class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></span>
                            <span class="text-xs text-emerald-400 font-bold">SCANNING...</span>
                        </div>
                    </div>

                    <div class="flex items-center gap-6 relative">
                        <!-- Radar Visual -->
                        <div class="w-32 h-32 shrink-0 flex items-center justify-center">
                            <div class="radar-box shadow-[0_0_20px_rgba(16,185,129,0.1)]">
                                <div class="scan-line"></div>
                                <!-- Blips -->
                                <div class="radar-blip" style="top: 30%; left: 70%; animation-delay: 0.2s"></div>
                                <div class="radar-blip" style="top: 60%; left: 20%; animation-delay: 1.5s"></div>
                                <div class="absolute top-1/2 left-1/2 w-2 h-2 bg-white rounded-full -translate-x-1/2 -translate-y-1/2 shadow-[0_0_15px_white]"></div>
                            </div>
                        </div>

                        <!-- Text Info & Faces -->
                        <div class="flex-1 space-y-4">
                            <div>
                                <p class="text-xl text-white font-bold serif-font">é™„è¿‘çš„ç›¸ä¼¼çµé­‚</p>
                                <p class="text-sm text-slate-400 font-display italic">Similar souls nearby</p>
                            </div>

                            <!-- Fixed: Missing Icons (Replaced with DiceBear) -->
                            <div class="flex -space-x-2 py-1">
                                <img class="w-8 h-8 rounded-full border border-slate-700 bg-slate-800 object-cover" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="Avatar">
                                <img class="w-8 h-8 rounded-full border border-slate-700 bg-slate-800 object-cover" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Aneka" alt="Avatar">
                                <img class="w-8 h-8 rounded-full border border-slate-700 bg-slate-800 object-cover" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Zoe" alt="Avatar">
                                <div class="w-8 h-8 rounded-full border border-slate-700 bg-slate-800 text-[10px] flex items-center justify-center text-slate-400 font-mono">+3</div>
                            </div>

                            <!-- Fixed: Button with Icon -->
                            <button onclick="openPeopleModal()" class="w-full flex items-center justify-center gap-2 text-[10px] text-indigo-400 hover:text-white hover:bg-indigo-500/20 hover:border-indigo-400 transition-all border border-indigo-500/30 rounded py-1.5 group">
                                <span>Say Hi</span>
                                <i class="fa-solid fa-hand-sparkles group-hover:animate-bounce"></i>
                            </button>
                        </div>
                    </div>
                </div>


        </div>


    </main>
    </div>

    <!-- People Modal (Say Hi) -->
    <div id="peopleModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/70 backdrop-blur-sm p-4 modal-backdrop-animate">
        <div class="bg-slate-900/95 border border-slate-700 rounded-xl w-full max-w-2xl h-[70vh] overflow-hidden flex flex-col modal-content-animate">
            <!-- Modal Header -->
            <div class="p-4 border-b border-slate-700 flex items-center justify-between">
                <h3 class="text-white font-medium flex items-center gap-2">
                    <i class="fa-solid fa-hand-sparkles text-indigo-400 animate-pulse"></i>
                    Say Hi to Nearby Vibes
                </h3>
                <button onclick="closePeopleModal()" class="text-slate-400 hover:text-white hover:rotate-90 transition-all duration-200">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
            
            <!-- Content: Left Tabs + Right List -->
            <div class="flex flex-1 overflow-hidden">
                <!-- Left Tribe Tabs (Vertical) -->
                <div id="tribeTabs" class="w-28 shrink-0 border-r border-slate-700 flex flex-col py-2 bg-slate-800/30 overflow-y-auto">
                    <button onclick="filterByTribe('all')" data-tribe="all" class="tribe-tab text-left px-3 py-2.5 text-xs font-medium bg-indigo-500/20 text-indigo-400 border-l-2 border-indigo-500">
                        <i class="fa-solid fa-users mr-1.5"></i>All
                    </button>
                    <button onclick="filterByTribe('poetic')" data-tribe="poetic" class="tribe-tab text-left px-3 py-2.5 text-xs font-medium text-slate-400 hover:bg-slate-700/50 hover:text-white border-l-2 border-transparent">
                        <i class="fa-solid fa-feather-pointed mr-1.5"></i>å¾®é†ºè¯—äºº
                    </button>
                    <button onclick="filterByTribe('electro')" data-tribe="electro" class="tribe-tab text-left px-3 py-2.5 text-xs font-medium text-slate-400 hover:bg-slate-700/50 hover:text-white border-l-2 border-transparent">
                        <i class="fa-solid fa-bolt mr-1.5"></i>ç‡¥çƒ­ç”µéŸ³
                    </button>
                    <button onclick="filterByTribe('whisper')" data-tribe="whisper" class="tribe-tab text-left px-3 py-2.5 text-xs font-medium text-slate-400 hover:bg-slate-700/50 hover:text-white border-l-2 border-transparent">
                        <i class="fa-solid fa-handshake mr-1.5"></i>å•†åŠ¡æ´½è°ˆ
                    </button>
                    <button onclick="filterByTribe('solo')" data-tribe="solo" class="tribe-tab text-left px-3 py-2.5 text-xs font-medium text-slate-400 hover:bg-slate-700/50 hover:text-white border-l-2 border-transparent">
                        <i class="fa-solid fa-wind mr-1.5"></i>ç‹¬è‡ªæ”¾ç©º
                    </button>
                    <button onclick="filterByTribe('gamer')" data-tribe="gamer" class="tribe-tab text-left px-3 py-2.5 text-xs font-medium text-slate-400 hover:bg-slate-700/50 hover:text-white border-l-2 border-transparent">
                        <i class="fa-solid fa-gamepad mr-1.5"></i>æ¸¸æˆäººç”Ÿ
                    </button>
                    <button onclick="filterByTribe('foodie')" data-tribe="foodie" class="tribe-tab text-left px-3 py-2.5 text-xs font-medium text-slate-400 hover:bg-slate-700/50 hover:text-white border-l-2 border-transparent">
                        <i class="fa-solid fa-utensils mr-1.5"></i>ç¾é£Ÿæ¢åº—
                    </button>
                </div>
                
                <!-- Right People List -->
                <div id="peopleList" class="flex-1 overflow-y-auto p-4 grid grid-cols-2 gap-2 auto-rows-min content-start hide-scroll">
                    <!-- People will be rendered here -->
                </div>
            </div>
        </div>
    </div>

    <!-- QR Code Modal -->
    <div id="qrModal" class="fixed inset-0 z-[60] hidden items-center justify-center bg-black/80 backdrop-blur-sm p-4">
        <div class="bg-slate-900/95 border border-slate-700 rounded-xl w-full max-w-xs p-6 text-center relative">
            <button onclick="closeQRModal()" class="absolute top-4 right-4 text-slate-400 hover:text-white">
                <i class="fa-solid fa-xmark"></i>
            </button>
            
            <!-- Person Info -->
            <img id="qrPersonImg" src="" alt="Avatar" class="w-16 h-16 rounded-full mx-auto mb-3 border-2 border-indigo-500">
            <h4 id="qrPersonName" class="text-white font-medium text-lg mb-1"></h4>
            <p id="qrPersonTribe" class="text-indigo-400 text-xs mb-1"></p>
            <p id="qrPersonTable" class="text-amber-400 text-xs mb-4 flex items-center justify-center gap-1">
                <i class="fa-solid fa-chair"></i>
                <span></span>
            </p>
            
            <!-- QR Code -->
            <div class="bg-white p-3 rounded-lg inline-block mb-4">
                <img id="qrCodeImg" src="" alt="QR Code" class="w-32 h-32">
            </div>
            
            <p class="text-slate-400 text-xs">Scan to connect & say hi!</p>
        </div>
    </div>

    <script>
        // ========== Say Hi Modal - Tribes Data (Global Scope) ==========
        const tribesData = {
            poetic: {
                color: 'violet',
                title: 'å¾®é†ºè¯—äºº',
                icon: 'fa-feather-pointed',
                tables: [
                    { name: "Table A", members: [
                        {name: 'Luna', img: 'Luna', status: 'å†™è¯—ä¸­ âœï¸'},
                        {name: 'Jasper', img: 'Jasper', status: 'çµæ„Ÿ ğŸ·'},
                        {name: 'Ivy', img: 'Ivy', status: 'æ²‰æ€ ğŸŒ¿'}
                    ]},
                    { name: "Table B", members: [
                        {name: 'Echo', img: 'Echo', status: 'ä½åŸ ğŸµ'}
                    ]}
                ]
            },
            electro: {
                color: 'rose',
                title: 'ç‡¥çƒ­ç”µéŸ³',
                icon: 'fa-bolt',
                tables: [
                    { name: "DJ èˆæ± ", members: [
                        {name: 'Vibe', img: 'Vibe', status: 'Raving ğŸ•º'},
                        {name: 'Neon', img: 'Neon', status: 'æ‰“ç¢Ÿ ğŸ§'},
                        {name: 'Flash', img: 'Flash', status: 'è¹¦è¿ª ğŸ’¥'},
                        {name: 'Bass', img: 'Bass', status: 'ä½éŸ³ ğŸ”Š'}
                    ]},
                    { name: "VIP Booth", members: [
                        {name: 'Rex', img: 'Rex', status: 'èˆä¼´ ğŸ’ƒ'},
                        {name: 'Zoe', img: 'Zoe', status: 'Energy âš¡'}
                    ]}
                ]
            },
            whisper: {
                color: 'amber',
                title: 'å•†åŠ¡æ´½è°ˆ',
                icon: 'fa-handshake',
                tables: [
                    { name: "VIP 888", members: [
                        {name: 'Boss', img: 'Boss', status: 'æ´½è°ˆ ğŸ’¼'},
                        {name: 'Jean', img: 'Jean', status: 'é™å¬ ğŸ¤”'},
                        {name: 'Mark', img: 'Mark', status: 'ç­¾çº¦ âœï¸'},
                        {name: 'Lisa', img: 'Lisa', status: 'è°ˆåˆ¤ ğŸ’¬'}
                    ]},
                    { name: "Private", members: [
                        {name: 'Hanks', img: 'Hanks', status: 'åç‰‡ ğŸ¤'}
                    ]}
                ]
            },
            solo: {
                color: 'cyan',
                title: 'ç‹¬è‡ªæ”¾ç©º',
                icon: 'fa-wind',
                tables: [
                    { name: "Bar Area", members: [
                        {name: 'Ghost', img: 'Ghost', status: 'æ”¾ç©º ğŸ˜¶'}
                    ]},
                    { name: "Terrace", members: [
                        {name: 'Blue', img: 'Blue', status: 'å¬æ­Œ ğŸ§'},
                        {name: 'Rain', img: 'Rain', status: 'çœ‹é›¨ ğŸŒ§ï¸'},
                        {name: 'Daze', img: 'Daze', status: 'å‘å‘† ğŸ’­'}
                    ]}
                ]
            },
            gamer: {
                color: 'indigo',
                title: 'æ¸¸æˆäººç”Ÿ',
                icon: 'fa-gamepad',
                tables: [
                    { name: "Gaming A", members: [
                        {name: 'Player1', img: 'P1', status: 'Rank Up ğŸ®'},
                        {name: 'Player2', img: 'P2', status: 'Carry ğŸ†'},
                        {name: 'Pro', img: 'Pro', status: 'å¼€é»‘ ğŸ¯'}
                    ]},
                    { name: "Board Game", members: [
                        {name: 'Ace', img: 'Ace', status: 'MVP ğŸ…'},
                        {name: 'Storm', img: 'Storm', status: 'è¿èƒœ ğŸ”¥'}
                    ]}
                ]
            },
            foodie: {
                color: 'emerald',
                title: 'ç¾é£Ÿæ¢åº—',
                icon: 'fa-utensils',
                tables: [
                    { name: "Tasting", members: [
                        {name: 'Chef', img: 'Chef1', status: 'Cooking ğŸ³'},
                        {name: 'Critic', img: 'Critic1', status: 'Tasting ğŸ·'},
                        {name: 'Foodie', img: 'Foodie', status: 'å“å° ğŸ˜‹'},
                        {name: 'Wine', img: 'Wine', status: 'é…é…’ ğŸ·'}
                    ]},
                    { name: "BBQ Zone", members: [
                        {name: 'Grill', img: 'Grill', status: 'çƒ§çƒ¤ ğŸ–'}
                    ]}
                ]
            }
        };

        let currentTribeFilter = 'all';

        function openPeopleModal() {
            const modal = document.getElementById('peopleModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            filterByTribe('all');
        }

        function closePeopleModal() {
            const modal = document.getElementById('peopleModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        function filterByTribe(tribeKey) {
            currentTribeFilter = tribeKey;
            
            // Update tab styles (vertical tabs)
            document.querySelectorAll('.tribe-tab').forEach(tab => {
                if(tab.dataset.tribe === tribeKey) {
                    tab.classList.remove('text-slate-400', 'border-transparent');
                    tab.classList.add('bg-indigo-500/20', 'text-indigo-400', 'border-indigo-500');
                } else {
                    tab.classList.add('text-slate-400', 'border-transparent');
                    tab.classList.remove('bg-indigo-500/20', 'text-indigo-400', 'border-indigo-500');
                }
            });
            
            renderPeopleList();
        }

        function renderPeopleList() {
            const peopleListContainer = document.getElementById('peopleList');
            if (!peopleListContainer) return;
            peopleListContainer.innerHTML = '';
            
            const tribeKeys = currentTribeFilter === 'all' 
                ? Object.keys(tribesData) 
                : [currentTribeFilter];
            
            let cardIndex = 0;
            
            tribeKeys.forEach(tribeKey => {
                const tribeData = tribesData[tribeKey];
                if(!tribeData) return;
                
                // Tribe header (only show when viewing all) - spans 2 columns
                if(currentTribeFilter === 'all') {
                    peopleListContainer.innerHTML += '<div class="col-span-2 text-sm font-medium mt-4 mb-2 first:mt-0 flex items-center gap-2" style="color: var(--tw-' + tribeData.color + '-400, #a78bfa)"><i class="fa-solid ' + tribeData.icon + '"></i> ' + tribeData.title + '</div>';
                }
                
                // People from all tables in this tribe
                tribeData.tables.forEach(table => {
                    table.members.forEach(person => {
                        const imgUrl = 'https://api.dicebear.com/7.x/avataaars/svg?seed=' + person.img;
                        const delay = cardIndex * 0.05;
                        peopleListContainer.innerHTML += '<div onclick="showPersonQR(\'' + person.name + '\', \'' + imgUrl + '\', \'' + person.status + '\', \'' + tribeData.title + '\', \'' + table.name + '\')" class="person-card flex items-center gap-2 p-2 bg-slate-800/50 hover:bg-slate-700/50 hover:scale-[1.02] rounded-lg cursor-pointer transition-all duration-200 border border-transparent hover:border-indigo-500/30 hover:shadow-lg hover:shadow-indigo-500/10" style="animation-delay: ' + delay + 's"><img src="' + imgUrl + '" alt="' + person.name + '" class="w-9 h-9 rounded-full border border-slate-600 shrink-0 transition-transform hover:scale-110"><div class="flex-1 min-w-0"><p class="text-white text-xs font-medium truncate">' + person.name + '</p><p class="text-slate-500 text-[10px] truncate">' + person.status + '</p><p class="text-amber-400 text-[10px] flex items-center gap-1 mt-0.5"><i class="fa-solid fa-chair"></i>' + table.name + '</p></div></div>';
                        cardIndex++;
                    });
                });
            });
        }

        function showPersonQR(name, img, status, tribe, table) {
            document.getElementById('qrPersonImg').src = img;
            document.getElementById('qrPersonName').textContent = name;
            document.getElementById('qrPersonTribe').textContent = tribe + ' Â· ' + status;
            document.getElementById('qrPersonTable').querySelector('span').textContent = table;
            
            // Generate real QR code using QR Server API
            const qrData = encodeURIComponent('https://bar-vibe.app/connect/' + name.toLowerCase() + '?table=' + encodeURIComponent(table) + '&tribe=' + encodeURIComponent(tribe));
            const qrUrl = 'https://api.qrserver.com/v1/create-qr-code/?size=128x128&data=' + qrData + '&bgcolor=ffffff&color=1e293b';
            document.getElementById('qrCodeImg').src = qrUrl;
            
            const qrModal = document.getElementById('qrModal');
            qrModal.classList.remove('hidden');
            qrModal.classList.add('flex');
        }

        function closeQRModal() {
            const qrModal = document.getElementById('qrModal');
            qrModal.classList.add('hidden');
            qrModal.classList.remove('flex');
        }

        // Close modals on backdrop click
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('peopleModal').addEventListener('click', function(e) {
                if(e.target === this) closePeopleModal();
            });
            document.getElementById('qrModal').addEventListener('click', function(e) {
                if(e.target === this) closeQRModal();
            });
        });

        // Load Order Data from 1.html (LocalStorage)
        window.addEventListener('load', () => {
            const orderData = localStorage.getItem('currentSessionOrder');
            if(orderData) {
                try {
                    const list = JSON.parse(orderData);
                    const container = document.getElementById('orderList');
                    
                    if(list && list.length > 0 && container) {
                        container.innerHTML = ''; // Clear default static items
                        
                        list.forEach(item => {
                            // Format: Icon + Name + Qty
                            container.innerHTML += `
                                <p class="flex items-center justify-between pr-2">
                                    <span class="flex items-center gap-2 truncate">
                                        <i class="fa-solid fa-circle text-[6px] text-amber-500"></i> 
                                        ${item.name}
                                    </span>
                                    <span class="text-slate-500 text-xs shrink-0 bg-slate-800 px-1.5 rounded">x ${item.count}</span>
                                </p>
                            `;
                        });
                    }
                } catch(e) {
                    console.error("Failed to parse order data", e);
                }
            }
        });

        const container = document.getElementById('bubbles');
        // ç”Ÿæˆ25ä¸ªæ°”æ³¡ï¼Œåˆ†å¸ƒåœ¨å·¦å³ä¸¤ä¾§
        for(let i=0; i<25; i++) {
            const b = document.createElement('div');
            b.className = 'bubble';

            // æ›´å¤§çš„æ°”æ³¡å°ºå¯¸ï¼Œå¢åŠ å¯è§åº¦
            const size = Math.random() * 60 + 30; // 30-90px
            b.style.width = size + 'px';
            b.style.height = size + 'px';

            // åªåœ¨å·¦å³ä¸¤ä¾§ç”Ÿæˆæ°”æ³¡ (0-15% æˆ– 85-100%)
            const isLeft = Math.random() > 0.5;
            const position = isLeft
                ? Math.random() * 15  // å·¦ä¾§ 0-15%
                : Math.random() * 15 + 85; // å³ä¾§ 85-100%
            b.style.left = position + 'vw';

            // æ›´æ…¢çš„ä¸Šå‡é€Ÿåº¦ (20-40ç§’)ï¼Œè¥é€ æ…µæ‡’æ„Ÿ
            const duration = Math.random() * 20 + 20;
            b.style.animationDuration = duration + 's';

            // éšæœºå»¶è¿Ÿ
            b.style.animationDelay = (Math.random() * 10) + 's';

            // å·¦å³æ¼‚ç§»è·ç¦»
            const drift = (Math.random() * 80 - 40) + 'px'; // -40px åˆ° +40px
            b.style.setProperty('--drift', drift);

            container.appendChild(b);
        }
    </script>
</body>
</html>